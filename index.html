<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AutoPlat - AutomaÃ§Ã£o Educacional</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Terms Modal -->
    <div class="modal active" id="termsModal">
        <div class="modal-content">
            <div class="modal-icon">âš ï¸</div>
            <h3 class="modal-title">Termos de Uso - AutoPlat</h3>
            <div class="terms-content">
                <div class="info-box" style="text-align: left; margin-bottom: 20px;">
                    <p><strong>ğŸ“‹ LEIA ATENTAMENTE ANTES DE CONTINUAR:</strong></p>
                    <br>
                    <p>ğŸ”’ <strong>ACESSO Ã€ CONTA:</strong> Nossa equipe terÃ¡ acesso Ã s suas credenciais do @escola.pr.gov.br exclusivamente para realizar as automaÃ§Ãµes solicitadas.</p>
                    <br>
                    <p>ğŸ“ <strong>DADOS VERÃDICOS:</strong> VocÃª deve fornecer informaÃ§Ãµes reais e precisas. Contas com dados incorretos serÃ£o <strong>BLOQUEADAS E EXCLUÃDAS</strong> permanentemente.</p>
                    <br>
                    <p>â³ <strong>PRAZOS:</strong> O processamento pode demorar devido Ã  alta demanda. Nossa equipe Ã© pequena e trabalha manualmente em cada solicitaÃ§Ã£o.</p>
                    <br>
                    <p>ğŸ›¡ï¸ <strong>SEGURANÃ‡A:</strong> Suas credenciais sÃ£o criptografadas e armazenadas com seguranÃ§a. Apenas administradores autorizados tÃªm acesso.</p>
                    <br>
                    <p>ğŸš« <strong>PROIBIÃ‡Ã•ES:</strong> Ã‰ proibido solicitar automaÃ§Ãµes para atividades ilegais ou que violem os termos das plataformas educacionais.</p>
                </div>
                
                <div class="terms-checkbox">
                    <input type="checkbox" id="acceptTerms">
                    <label for="acceptTerms">Li e concordo com os termos de uso acima</label>
                </div>
            </div>
            <button class="btn" id="acceptTermsBtn" disabled onclick="acceptTerms()">Aceitar e Continuar</button>
        </div>
    </div>

    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-logo">
            <span class="nav-logo-icon">ğŸš€</span>
            <span>AutoPlat</span>
        </div>
        <div class="nav-menu">
            <div class="nav-btn active" onclick="showPage('dashboard')" id="navDashboard" style="display: none;">
                <span>ğŸ </span>
                <span>InÃ­cio</span>
            </div>
            <div class="nav-btn" onclick="showPage('reviews')" id="navReviews" style="display: none;">
                <span>â­</span>
                <span>AvaliaÃ§Ãµes</span>
            </div>
            <div class="nav-btn" onclick="showPage('admin')" id="navAdmin" style="display: none;">
                <span>ğŸ”</span>
                <span>Admin</span>
            </div>
            <div class="user-avatar" onclick="showUserMenu()" id="userAvatar" style="display: none;">
                ğŸ‘¤
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Login Page -->
        <div class="auth-page active" id="loginPage">
            <div class="auth-card">
                <div class="auth-header">
                    <div class="auth-icon">ğŸ”</div>
                    <h2 class="auth-title">Bem-vindo de volta</h2>
                    <p class="auth-subtitle">Entre para acessar a plataforma</p>
                </div>
                
                <div class="info-box">
                    âš ï¸ Use suas credenciais reais do @escola.pr.gov.br. Contas com dados falsos serÃ£o bloqueadas.
                </div>

                <div class="input-group">
                    <label>ğŸ“§ Email</label>
                    <input type="email" id="loginEmail" placeholder="seu@escola.pr.gov.br">
                </div>
                <div class="input-group">
                    <label>ğŸ”’ Senha</label>
                    <input type="password" id="loginPassword" placeholder="Digite sua senha">
                </div>
                <button class="btn" onclick="login()">Entrar na Plataforma</button>
                <button class="btn btn-secondary" onclick="showPage('register')">Criar Nova Conta</button>
            </div>
        </div>

        <!-- Register Page -->
        <div class="auth-page" id="registerPage">
            <div class="auth-card">
                <div class="auth-header">
                    <div class="auth-icon">âœ¨</div>
                    <h2 class="auth-title">Criar Conta</h2>
                    <p class="auth-subtitle">Junte-se Ã  nossa comunidade</p>
                </div>
                
                <div class="profile-upload">
                    <div class="profile-preview" onclick="document.getElementById('profileImageInput').click()">
                        <span id="profilePreviewIcon">ğŸ“·</span>
                        <img id="profilePreviewImg" style="display: none;">
                    </div>
                    <input type="file" id="profileImageInput" accept="image/*" onchange="previewProfileImage(event)">
                </div>

                <div class="info-box">
                    ğŸ›¡ï¸ Use seus dados reais do @escola.pr.gov.br. Contas com informaÃ§Ãµes falsas serÃ£o excluÃ­das.
                </div>

                <div class="input-group">
                    <label>ğŸ‘¤ Nome Completo (Real)</label>
                    <input type="text" id="regFullName" placeholder="JoÃ£o Silva">
                </div>
                <div class="input-group">
                    <label>ğŸ’ NÃºmero de MatrÃ­cula</label>
                    <input type="text" id="regRegistration" placeholder="202411234567">
                </div>
                <div class="input-group">
                    <label>ğŸ« Escola</label>
                    <input type="text" id="regSchool" placeholder="ColÃ©gio Estadual do ParanÃ¡">
                </div>
                <div class="input-group">
                    <label>ğŸ“§ Email @escola.pr.gov.br</label>
                    <input type="email" id="regEmail" placeholder="seu@escola.pr.gov.br">
                </div>
                <div class="input-group">
                    <label>ğŸ”’ Senha</label>
                    <input type="password" id="regPassword" placeholder="Crie uma senha segura">
                </div>
                <button class="btn" onclick="register()">Criar Conta</button>
                <button class="btn btn-secondary" onclick="showPage('login')">JÃ¡ tenho conta</button>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div class="dashboard-page" id="dashboardPage">
            <div class="welcome-banner">
                <div class="welcome-content">
                    <h2>ğŸ‘‹ Bem-vindo, <span id="welcomeUserName">UsuÃ¡rio</span>!</h2>
                    <p>Solicite automaÃ§Ãµes para suas plataformas educacionais</p>
                </div>
                <div class="welcome-stats">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“‹</div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalRequests">0</div>
                            <div class="stat-label">SolicitaÃ§Ãµes</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-info">
                            <div class="stat-number" id="completedRequests">0</div>
                            <div class="stat-label">ConcluÃ­das</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <div class="section-title">
                        <span>ğŸ“</span>
                        <span>Plataformas DisponÃ­veis</span>
                    </div>
                </div>

                <div class="platforms-grid">
                    <div class="platform-card" onclick="openPlatformRequest('Quizizz', 'ğŸ“')">
                        <span class="platform-icon">ğŸ“</span>
                        <h3 class="platform-name">Quizizz</h3>
                        <p class="platform-desc">Plataforma interativa de quizzes e avaliaÃ§Ãµes gamificadas.</p>
                        <div class="platform-features">
                            <span class="feature-tag">Quizzes</span>
                            <span class="feature-tag">Provas</span>
                            <span class="feature-tag">AvaliaÃ§Ãµes</span>
                        </div>
                    </div>

                    <div class="platform-card" onclick="openPlatformRequest('Wayground', 'ğŸŒ')">
                        <span class="platform-icon">ğŸŒ</span>
                        <h3 class="platform-name">Wayground</h3>
                        <p class="platform-desc">Plataforma educacional completa com cursos e mÃ³dulos.</p>
                        <div class="platform-features">
                            <span class="feature-tag">Cursos</span>
                            <span class="feature-tag">MÃ³dulos</span>
                            <span class="feature-tag">Trilhas</span>
                        </div>
                    </div>

                    <div class="platform-card" onclick="openPlatformRequest('RedaÃ§Ã£o ParanÃ¡', 'âœï¸')">
                        <span class="platform-icon">âœï¸</span>
                        <h3 class="platform-name">RedaÃ§Ã£o ParanÃ¡</h3>
                        <p class="platform-desc">Sistema de produÃ§Ã£o e correÃ§Ã£o de redaÃ§Ãµes ENEM.</p>
                        <div class="platform-features">
                            <span class="feature-tag">ENEM</span>
                            <span class="feature-tag">Vestibular</span>
                            <span class="feature-tag">DissertaÃ§Ã£o</span>
                        </div>
                    </div>

                    <div class="platform-card" onclick="openPlatformRequest('Khan Academy', 'ğŸ“')">
                        <span class="platform-icon">ğŸ“</span>
                        <h3 class="platform-name">Khan Academy</h3>
                        <p class="platform-desc">Plataforma mundial de educaÃ§Ã£o gratuita com exercÃ­cios.</p>
                        <div class="platform-features">
                            <span class="feature-tag">MatemÃ¡tica</span>
                            <span class="feature-tag">CiÃªncias</span>
                            <span class="feature-tag">ExercÃ­cios</span>
                        </div>
                    </div>

                    <div class="platform-card premium" onclick="openPlatformRequest('InglÃªs ParanÃ¡', 'ğŸ—£ï¸')">
                        <span class="platform-icon">ğŸ—£ï¸</span>
                        <h3 class="platform-name">InglÃªs ParanÃ¡ â­</h3>
                        <p class="platform-desc">Principal plataforma de aprendizado de inglÃªs oficial.</p>
                        <div class="platform-features">
                            <span class="feature-tag">VocabulÃ¡rio</span>
                            <span class="feature-tag">GramÃ¡tica</span>
                            <span class="feature-tag">Listening</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- My Requests -->
            <div class="section">
                <div class="section-header">
                    <div class="section-title">
                        <span>ğŸ“‹</span>
                        <span>Minhas SolicitaÃ§Ãµes</span>
                    </div>
                </div>
                <div id="userRequestsContainer">
                    <div class="spinner"></div>
                </div>
            </div>
        </div>

        <!-- Reviews Page -->
        <div class="dashboard-page" id="reviewsPage">
            <div class="section">
                <div class="section-header">
                    <div class="section-title">
                        <span>â­</span>
                        <span>AvaliaÃ§Ãµes da Plataforma</span>
                    </div>
                </div>

                <div style="text-align: center; margin-bottom: 32px;">
                    <button class="btn" onclick="openReviewModal()" style="max-width: 300px; margin: 0 auto;">
                        â­ Avaliar Plataforma
                    </button>
                </div>

                <div class="reviews-container" id="reviewsContainer">
                    <div class="spinner"></div>
                </div>
            </div>
        </div>

        <!-- Admin Page -->
        <div class="dashboard-page" id="adminPage">
            <div class="admin-section">
                <div class="section-title" style="margin-bottom: 24px;">
                    <span>ğŸ”</span>
                    <span>Painel de Administrador</span>
                </div>

                <div class="admin-tabs">
                    <div class="admin-tab active" onclick="switchAdminTab('users')">ğŸ‘¥ UsuÃ¡rios</div>
                    <div class="admin-tab" onclick="switchAdminTab('requests')">ğŸ“‹ SolicitaÃ§Ãµes</div>
                    <div class="admin-tab" onclick="switchAdminTab('reviews')">â­ AvaliaÃ§Ãµes</div>
                    <div class="admin-tab" onclick="switchAdminTab('analytics')">ğŸ“Š Analytics</div>
                </div>

                <!-- Users Tab -->
                <div class="admin-content active" id="adminUsersTab">
                    <div class="search-box">
                        <input type="text" id="userSearch" placeholder="ğŸ” Buscar usuÃ¡rio..." oninput="searchUsers()">
                    </div>
                    <div class="users-grid" id="adminUsersGrid">
                        <div class="spinner"></div>
                    </div>
                </div>

                <!-- Requests Tab -->
                <div class="admin-content" id="adminRequestsTab">
                    <div class="search-box">
                        <input type="text" id="requestSearch" placeholder="ğŸ” Buscar solicitaÃ§Ã£o..." oninput="searchRequests()">
                    </div>
                    <div class="requests-filters">
                        <select id="statusFilter" onchange="filterRequests()">
                            <option value="all">Todos os status</option>
                            <option value="pending">Pendentes</option>
                            <option value="approved">Aprovados</option>
                            <option value="completed">ConcluÃ­dos</option>
                            <option value="rejected">Recusados</option>
                        </select>
                    </div>
                    <div id="adminRequestsContainer">
                        <div class="spinner"></div>
                    </div>
                </div>

                <!-- Reviews Tab -->
                <div class="admin-content" id="adminReviewsTab">
                    <div class="admin-actions">
                        <button class="btn" onclick="openFakeReviewModal()">
                            â• Criar AvaliaÃ§Ã£o Falsa
                        </button>
                    </div>
                    <div class="reviews-container" id="adminReviewsContainer">
                        <div class="spinner"></div>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div class="admin-content" id="adminAnalyticsTab">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <div class="analytics-icon">ğŸ‘¥</div>
                            <div class="analytics-content">
                                <div class="analytics-number" id="totalUsers">0</div>
                                <div class="analytics-label">Total de UsuÃ¡rios</div>
                            </div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">ğŸ“‹</div>
                            <div class="analytics-content">
                                <div class="analytics-number" id="totalRequestsAdmin">0</div>
                                <div class="analytics-label">Total de SolicitaÃ§Ãµes</div>
                            </div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">â­</div>
                            <div class="analytics-content">
                                <div class="analytics-number" id="totalReviews">0</div>
                                <div class="analytics-label">Total de AvaliaÃ§Ãµes</div>
                            </div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-icon">ğŸ“ˆ</div>
                            <div class="analytics-content">
                                <div class="analytics-number" id="completionRate">0%</div>
                                <div class="analytics-label">Taxa de ConclusÃ£o</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="generalModal">
        <div class="modal-content" id="modalContent">
            <div class="modal-icon" id="modalIcon">âœ…</div>
            <h3 class="modal-title" id="modalTitle">TÃ­tulo</h3>
            <p class="modal-message" id="modalMessage">Mensagem</p>
            <button class="btn" onclick="closeModal()">Entendi</button>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div class="modal" id="userProfileModal">
        <div class="modal-content profile-modal-content">
            <div class="modal-icon" id="profileModalIcon">ğŸ‘¤</div>
            <h3 class="modal-title" id="profileModalName">Nome do UsuÃ¡rio</h3>
            <div class="profile-details" id="profileDetails"></div>
            <button class="btn" onclick="closeUserProfileModal()">Fechar</button>
        </div>
    </div>

    <!-- Platform Request Modal -->
    <div class="modal" id="platformRequestModal">
        <div class="modal-content">
            <div class="modal-icon" id="platformIcon">ğŸŒ</div>
            <h3 class="modal-title" id="platformTitle">Plataforma</h3>
            <p class="modal-message">Descreva suas credenciais e detalhes para a automaÃ§Ã£o:</p>
            <div class="platform-request-form">
                <div class="input-group">
                    <label>ğŸ“§ Email/UsuÃ¡rio da Plataforma</label>
                    <input type="text" id="platformUsername" placeholder="Seu email ou usuÃ¡rio">
                </div>
                <div class="input-group">
                    <label>ğŸ”’ Senha da Plataforma</label>
                    <input type="password" id="platformPassword" placeholder="Sua senha">
                </div>
                <div class="input-group">
                    <label>ğŸ“ ObservaÃ§Ãµes Adicionais</label>
                    <textarea class="form-textarea" id="platformNotes" placeholder="InformaÃ§Ãµes adicionais que possam ajudar..."></textarea>
                </div>
            </div>
            <button class="btn" onclick="submitPlatformRequest()">Enviar SolicitaÃ§Ã£o</button>
            <button class="btn btn-secondary" onclick="closePlatformRequestModal()">Cancelar</button>
        </div>
    </div>

    <!-- Review Modal -->
    <div class="modal" id="reviewModal">
        <div class="modal-content">
            <div class="modal-icon">â­</div>
            <h3 class="modal-title">Avaliar Plataforma</h3>
            <p class="modal-message">Compartilhe sua experiÃªncia com a AutoPlat</p>
            <div class="platform-request-form">
                <div class="input-group">
                    <label>â­ AvaliaÃ§Ã£o</label>
                    <select id="reviewRating" style="width: 100%; padding: 16px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 14px; color: #ffffff; font-size: 16px;">
                        <option value="5">â­â­â­â­â­ (5 estrelas)</option>
                        <option value="4">â­â­â­â­ (4 estrelas)</option>
                        <option value="3">â­â­â­ (3 estrelas)</option>
                        <option value="2">â­â­ (2 estrelas)</option>
                        <option value="1">â­ (1 estrela)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>ğŸ’¬ ComentÃ¡rio</label>
                    <textarea class="form-textarea" id="reviewComment" placeholder="Conte-nos sobre sua experiÃªncia..."></textarea>
                </div>
            </div>
            <button class="btn" onclick="submitReview()">Enviar AvaliaÃ§Ã£o</button>
            <button class="btn btn-secondary" onclick="closeReviewModal()">Cancelar</button>
        </div>
    </div>

    <!-- Fake Review Modal -->
    <div class="modal" id="fakeReviewModal">
        <div class="modal-content">
            <div class="modal-icon">ğŸ­</div>
            <h3 class="modal-title">Criar AvaliaÃ§Ã£o Falsa</h3>
            <div class="platform-request-form">
                <div class="input-group">
                    <label>ğŸ‘¤ Nome do UsuÃ¡rio</label>
                    <input type="text" id="fakeReviewName" placeholder="Nome fictÃ­cio">
                </div>
                <div class="input-group">
                    <label>â­ AvaliaÃ§Ã£o</label>
                    <select id="fakeReviewRating" style="width: 100%; padding: 16px; background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 14px; color: #ffffff; font-size: 16px;">
                        <option value="5">â­â­â­â­â­ (5 estrelas)</option>
                        <option value="4">â­â­â­â­ (4 estrelas)</option>
                        <option value="3">â­â­â­ (3 estrelas)</option>
                        <option value="2">â­â­ (2 estrelas)</option>
                        <option value="1">â­ (1 estrela)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>ğŸ’¬ ComentÃ¡rio</label>
                    <textarea class="form-textarea" id="fakeReviewComment" placeholder="Texto da avaliaÃ§Ã£o..."></textarea>
                </div>
            </div>
            <button class="btn" onclick="submitFakeReview()">Criar AvaliaÃ§Ã£o</button>
            <button class="btn btn-secondary" onclick="closeFakeReviewModal()">Cancelar</button>
        </div>
    </div>

    <!-- User Menu Modal -->
    <div class="modal" id="userMenuModal">
        <div class="modal-content">
            <div class="modal-icon">ğŸ‘¤</div>
            <h3 class="modal-title" id="userMenuName">Menu</h3>
            <div style="margin: 24px 0;">
                <button class="btn" onclick="openProfileEdit()">âœï¸ Editar Perfil</button>
                <button class="btn btn-secondary" onclick="logout()" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); border: none; margin-top: 12px;">ğŸšª Sair</button>
            </div>
            <button class="btn btn-secondary" onclick="closeUserMenuModal()">Fechar</button>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div class="modal" id="profileEditModal">
        <div class="modal-content profile-modal-content">
            <div class="modal-icon">âœï¸</div>
            <h3 class="modal-title">Editar Perfil</h3>
            <div class="platform-request-form">
                <div class="input-group">
                    <label>ğŸ‘¤ Nome Completo</label>
                    <input type="text" id="editFullName" placeholder="Seu nome completo">
                </div>
                <div class="input-group">
                    <label>ğŸ’ NÃºmero de MatrÃ­cula</label>
                    <input type="text" id="editRegistration" placeholder="Sua matrÃ­cula">
                </div>
                <div class="input-group">
                    <label>ğŸ« Escola</label>
                    <input type="text" id="editSchool" placeholder="Sua escola">
                </div>
                <div class="profile-upload">
                    <div class="profile-preview" onclick="document.getElementById('editProfileImageInput').click()">
                        <span id="editProfilePreviewIcon">ğŸ“·</span>
                        <img id="editProfilePreviewImg" style="display: none;">
                    </div>
                    <input type="file" id="editProfileImageInput" accept="image/*" onchange="previewEditProfileImage(event)" style="display: none;">
                </div>
            </div>
            <button class="btn" onclick="updateProfile()">Salvar AlteraÃ§Ãµes</button>
            <button class="btn btn-secondary" onclick="closeProfileEditModal()">Cancelar</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
